version: "2.0"

stories:
  # Something used for longer conversation.
  # Flows that the bot CAN follow.
  # It is actually the dialogue training data that allows Rasa to predict the next best action to take.
  # Story paths are also useful to define which entities are extracted from the same intent.

  # A story path seems not to be necessary to part with a greeting intent.
  # Rasa will use the story that best matches the conversation so fat and continues.
  # Or if neither one is possible, Rasa will use a fallback action.

  - story: greet user path # User story: Greet chatbot to start a conversation
    steps:
      - intent: greet
      - action: utter_ask_name
      - intent: greet_with_name
        entities:
          - username: "陳"
      - action: utter_greet_with_name
      - action: utter_introduce

  - story: greet user with name path # User story: Greet chatbot with name to start a conversation
    steps:
      - intent: greet_with_name
        entities:
          - username: 陳
      - action: utter_greet_with_name
      - action: utter_introduce

  - story: hotel booking path # User story: Book hotel rooms
    steps:
      - intent: ask_registration
      - action: action_connect_database

#  - story: indirect information path  # User story: Ask relevant nearby information (indirect)
#    steps:
#      - intent: greet
#      - action: action_how_to_greet
#      - intent: inform_name
#      - action: utter_greet_with_name

#
# User story: Ask relevant nearby information (directly)
#
  - story: ask food path
    steps:
      - intent: ask_food
      - action: utter_ask_food
      - or:
        - intent: ask_food_jp
        - intent: ask_food_kr
        - intent: ask_food_cn
        - intent: ask_food_sea
      - action: action_ask_food

  - story: ask visit path
    steps:
      - intent: ask_visit
      - action: utter_ask_visit
      - or:
          - intent: ask_visit_shopping
          - intent: ask_visit_museums
          - intent: ask_visit_outskirts
      - action: action_ask_visit
